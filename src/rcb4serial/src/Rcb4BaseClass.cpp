/**
*	@file Rcb4BaseClass.cpp
*	@brief RCB4 base library
*	@author Kondo Kagaku Co.,Ltd.
*	@version 1.1.0
*
*	@date	2018/02/01
*	@date	2019/01/16ï¿½@V1.1.0
*			ï¿½EgetConfigï¿½Ì•sï¿½ï‡ï¿½ï¿½ï¿½Cï¿½ï¿½
*			ï¿½EmoveRamToComCmdSynchronizeï¿½ï¿½memcopyï¿½Ì•sï¿½ï‡ï¿½Î‰ï¿½
*
*	@copyright &copy; Kondo Kagaku Co.,Ltd. 2019
**/
/* 
* Rcb4BaseClass.cpp
*
* Created: 2017/06/13 4:34:57
* Author: 5636m_000,T.Nobuhara
*/


#include "rcb4serial/Rcb4BaseClass.hpp"



//RCB4ï¿½ï¿½configï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½ //////////////////////////////////////////////////////////
/**
* @brief RCB4ï¿½ÌƒRï¿½ï¿½ï¿½tï¿½Bï¿½Oï¿½fï¿½[ï¿½^ï¿½ï¿½Ç‚İï¿½ï¿½
* @return ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìƒtï¿½ï¿½ï¿½O
* @retval true	ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½fï¿½[ï¿½^ï¿½æ“¾
* @retval false	ï¿½ÊMï¿½ï¿½ï¿½s
* @attention classï¿½ï¿½ï¿½ï¿½configDataï¿½É’lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
///////////////////////////////////////////////////////////////////////////////////
// (configï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½)
bool Rcb4BaseClass::getConfig()
{
	byte	wkbuf[10];
	if(moveRamToComCmdSynchronize(ConfigRamAddress ,0x02,wkbuf) != 0xffff)
	{
		configData.byte.low = wkbuf[0];
		configData.byte.high= wkbuf[1];
		return 	true;
	}
	else
	{
		return false;
	}
}

//RCB4ï¿½ï¿½configï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½ //////////////////////////////////////////////////////////
/**
* @brief RCB4ï¿½ÌƒRï¿½ï¿½ï¿½tï¿½Bï¿½Oï¿½fï¿½[ï¿½^ï¿½ï¿½Ç‚İï¿½ï¿½
* @param[out] confData	RCB4ï¿½ÌƒRï¿½ï¿½ï¿½tï¿½Bï¿½Oï¿½fï¿½[ï¿½^
* @return ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìƒtï¿½ï¿½ï¿½O
* @retval true	ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½fï¿½[ï¿½^ï¿½æ“¾
* @retval false	ï¿½ÊMï¿½ï¿½ï¿½s
* @attention ï¿½Ô‚ï¿½ï¿½lï¿½ï¿½classï¿½ï¿½ï¿½ï¿½configDataï¿½Ì’lï¿½ï¿½ï¿½Rï¿½sï¿½[ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B(configDataï¿½Ì’ï¿½ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½)
* @date 2019/01/15ï¿½@confDataï¿½ÌƒAï¿½hï¿½ï¿½ï¿½Xï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Ì‚ÅCï¿½ï¿½
**/
bool Rcb4BaseClass::getConfig(unsigned short *confData)
{
	if(getConfig() == false)	return	false;

	*confData = configData.word; 
	delay(100);
	return	true;
}


//Rcb4BaseClassï¿½Ågï¿½pï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ‚¤ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½`ï¿½Fï¿½bï¿½Nï¿½ï¿½ï¿½ï¿½///////////
/**
* @brief ï¿½fï¿½[ï¿½^ï¿½ÊMï¿½ï¿½ï¿½ÅAï¿½ï¿½ï¿½Mï¿½oï¿½bï¿½tï¿½@ï¿½É’lï¿½ï¿½ï¿½ï¿½ï¿½æ‚¤ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½`ï¿½Fï¿½bï¿½Nï¿½ï¿½ï¿½ï¿½
* @param[in] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @return ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ìƒtï¿½ï¿½ï¿½O
* @retval true	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½oï¿½bï¿½tï¿½@ï¿½Í‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½
* @retval false	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½oï¿½bï¿½tï¿½@ï¿½Ígï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Å’ï¿½ï¿½Å‚ï¿½ï¿½ï¿½
* @attention Rcb4BaseClassï¿½Ågï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@ï¿½Í‹ï¿½ï¿½Ê‚Ågï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½É•Ï‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½mï¿½Fï¿½ï¿½ï¿½sï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
**/
bool Rcb4BaseClass::checkuning(byte *txData)		///ï¿½fï¿½[ï¿½^ï¿½ÊMï¿½ï¿½ï¿½ÅAï¿½ï¿½ï¿½Mï¿½oï¿½bï¿½tï¿½@ï¿½É’lï¿½ï¿½ï¿½ï¿½ï¿½æ‚¤ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½`ï¿½Fï¿½bï¿½N
{
	return (_isSynchronize == true && txBuf == txData) ? false: true;
}


///////////////////////////////////////////////////////////////////////////////////
//comandï¿½ì¬ (ï¿½fï¿½[ï¿½^ï¿½ï¿½^ï¿½ï¿½ï¿½ï¿½Æ‘ï¿½ï¿½Mï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ì¬ï¿½ï¿½ï¿½ï¿½
//
// 
//COMï¿½ï¿½ï¿½ï¿½RAMï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½///////////
/**
* @brief COMï¿½ï¿½ï¿½ï¿½RAMï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] destAddr	RCB4ï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Şæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½X
* @param[in] destData[]	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½İƒfï¿½[ï¿½^
* @param[in] destDataSize	ï¿½ï¿½ï¿½ï¿½ï¿½İƒfï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @details COMï¿½ï¿½ï¿½ï¿½RCB4ï¿½ï¿½ï¿½ï¿½RAMï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveComToRamCmd(byte *txData,int destAddr,byte destData[],int destDataSize)
{
	if(checkuning(txData) == false || destDataSize > 249)
	{
		return -1;
	}

	byte	*ptr;
	WordByte	wk;

	wk.word = destAddr;
	ptr = txData;

	*ptr++ = (byte)destDataSize + 7;		//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½
	*ptr++=  Move;							//moveï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½
	*ptr++=  0x02;							//COM => RAM
	*ptr++=  wk.byte[0];					//ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Şæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½X
	*ptr++=  wk.byte[1];					//
	*ptr++=  0x00;							//ï¿½dï¿½l
	for(int i = 0; i < destDataSize; i++)	//ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	{
		*ptr++=  destData[i];
	}
	setCheckSum(txData);					//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½
	
	return destDataSize + 7;
	
}


/**
* @brief COMï¿½ï¿½ï¿½ï¿½RAMï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[in] destAddr	RCB4ï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Şæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½X
* @param[in] destData[]	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½İƒfï¿½[ï¿½^
* @param[in] destDataSize	ï¿½ï¿½ï¿½ï¿½ï¿½İƒfï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details COMï¿½ï¿½ï¿½ï¿½RCB4ï¿½ï¿½ï¿½ï¿½RAMï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveComToRamCmd(int destAddr,byte destData[],int destDataSize)
{
	return moveComToRamCmd(txBuf, destAddr, destData, destDataSize);
}


//RAMï¿½Ìï¿½Ô‚ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½h
/**
* @brief RAMï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É‘ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] scrAddr	RCB4ï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Şæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½X
* @param[in] scrDataSize	ï¿½ï¿½ï¿½ï¿½ï¿½İƒfï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details RCB4ï¿½Ì“ï¿½ï¿½ï¿½RAMï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É‘ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveRamToComCmd(byte *txData,int scrAddr,int scrDataSize)
{
	if(checkuning(txData) == false)	return -1;

	byte	*ptr;
	WordByte	wk;

	wk.word = scrAddr;

	ptr = txData;

	*ptr++ = 0x0a;		//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ÍŒÅ’ï¿½)
	*ptr++=  Move;		//moveï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½
	*ptr++=  0x20;		//RAM => COM
	*ptr++=  0x00;		//ï¿½dï¿½l(COMï¿½oï¿½ï¿½)
	*ptr++=  0x00;		//ï¿½dï¿½l
	*ptr++=  0x00;		//ï¿½dï¿½l
	*ptr++=  wk.byte[0];		//ï¿½]ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒAï¿½hï¿½ï¿½ï¿½X
	*ptr++=  wk.byte[1];		//
	*ptr++=  (byte)scrDataSize;	//ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ç‚¢ï¿½ï¿½ï¿½ï¿½byteï¿½ï¿½

	setCheckSum(txData);		//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½
	return 0x0a;

}

//RAMï¿½Ìï¿½Ô‚ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½h
/**
* @brief RAMï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É‘ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[in] scrAddr	RCB4ï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Şæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½X
* @param[in] scrDataSize	ï¿½ï¿½ï¿½ï¿½ï¿½İƒfï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details RCB4ï¿½Ì“ï¿½ï¿½ï¿½RAMï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É‘ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveRamToComCmd(int scrAddr,int scrDataSize)
{
	return moveRamToComCmd(txBuf, scrAddr, scrDataSize);
}



//COMï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ICSï¿½É“Wï¿½Jï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½h
/**
* @brief COMï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ICSï¿½É“Wï¿½Jï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½(short 2byteï¿½oï¿½[ï¿½Wï¿½ï¿½ï¿½ï¿½)
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] icsNum		ICSï¿½Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] data		2byteï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details COMï¿½ï¿½ï¿½ï¿½RCB4ï¿½Ì“ï¿½ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½É”ï¿½ï¿½fï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveComToDeviceCmd (byte *txData,byte icsNum,byte offset,int data)
{
	if(checkuning(txData) == false)	return -1;

	byte	*ptr;
	WordByte	wk;

	ptr = txData;
	wk.word = data;
				
	*ptr++ = 0x09;		//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ÍŒÅ’ï¿½)
	*ptr++=  Move;		//moveï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½
	*ptr++=  0x12;		//com => Device
	*ptr++=  offset;	//ï¿½fï¿½oï¿½Cï¿½Xï¿½Ìæ“ªï¿½ï¿½ï¿½ï¿½Ç‚ê‚¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©
	*ptr++=  icsNum;	//ICSï¿½Ôï¿½
	*ptr++=  0x00;		//ï¿½dï¿½l
	*ptr++=  wk.byte[0];	//ï¿½fï¿½[ï¿½^
	*ptr++=  wk.byte[1];	//
	setCheckSum(txData);	//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½
	return 0x09;

}



/**
* @brief COMï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ICSï¿½É“Wï¿½Jï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½(short 2byteï¿½oï¿½[ï¿½Wï¿½ï¿½ï¿½ï¿½)
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] idNum		ï¿½Tï¿½[ï¿½{ï¿½ï¿½IDï¿½Ôï¿½
* @param[in] sioNum		SIO(SioNum)ï¿½Ì”Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] data		2byteï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details COMï¿½ï¿½ï¿½ï¿½RCB4ï¿½Ì“ï¿½ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½É”ï¿½ï¿½fï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveComToDeviceCmd (byte *txData,byte idNum,byte sioNum,byte offset,int data)
{
	return moveComToDeviceCmd (txData, icsNum2id(idNum, sioNum), offset, data);
}



/**
* @brief COMï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ICSï¿½É“Wï¿½Jï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½(short 2byteï¿½oï¿½[ï¿½Wï¿½ï¿½ï¿½ï¿½)
* @param[in] icsNum		ICSï¿½Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] data		2byteï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details COMï¿½ï¿½ï¿½ï¿½RCB4ï¿½Ì“ï¿½ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½É”ï¿½ï¿½fï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveComToDeviceCmd (byte icsNum,byte offset,int data)
{
	return moveComToDeviceCmd (txBuf, icsNum, offset, data);
}



/**
* @brief COMï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ICSï¿½É“Wï¿½Jï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½(short 2byteï¿½oï¿½[ï¿½Wï¿½ï¿½ï¿½ï¿½)
* @param[in] idNum		ï¿½Tï¿½[ï¿½{ï¿½ï¿½IDï¿½Ôï¿½
* @param[in] sioNum		SIO(SioNum)ï¿½Ì”Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] data		2byteï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details COMï¿½ï¿½ï¿½ï¿½RCB4ï¿½Ì“ï¿½ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½É”ï¿½ï¿½fï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveComToDeviceCmd (byte idNum,byte sioNum,byte offset,int data)
{
	return moveComToDeviceCmd (txBuf, icsNum2id(idNum, sioNum), offset, data);
}




//ICSï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½h)
/**
* @brief ICSï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] icsNum		ICSï¿½Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] dataSize	ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details RCB4ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveDeviceToComCmd(byte *txData,byte icsNum,byte offset,byte dataSize)
{
	if(checkuning(txData) == false)	return -1;

	byte	*ptr;

	ptr = txData;

	*ptr++ = 0x0a;			//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ÍŒÅ’ï¿½)
	*ptr++ = Move;			//moveï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½
	*ptr++ = 0x21;			//Device => com 
	*ptr++ = offset;		//ï¿½fï¿½oï¿½Cï¿½Xï¿½Ìæ“ªï¿½ï¿½ï¿½ï¿½Ç‚ê‚¾ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©
	*ptr++ = 0x00;			//ï¿½dï¿½l(COMï¿½oï¿½ï¿½)
	*ptr++ = 0x00;			//ï¿½dï¿½l
	*ptr++ = 0x00;			//ï¿½dï¿½l
	*ptr++ = icsNum;		//ICSï¿½Ôï¿½
	*ptr++ = dataSize;		//ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ç‚¤ï¿½ï¿½
	setCheckSum(txData);	//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½	
	return 0x0a;

}



/**
* @brief ICSï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] idNum		ï¿½Tï¿½[ï¿½{ï¿½ï¿½IDï¿½Ôï¿½
* @param[in] sioNum		SIO(SioNum)ï¿½Ì”Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] dataSize	ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details RCB4ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveDeviceToComCmd(byte *txData,byte idNum,byte sioNum,byte offset,byte dataSize)
{
	return  moveDeviceToComCmd(txData, icsNum2id(idNum, sioNum), offset, dataSize);
}



/**
* @brief ICSï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[in] icsNum		ICSï¿½Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] dataSize	ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details RCB4ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveDeviceToComCmd(byte icsNum, byte offset, byte dataSize)
{
	return  moveDeviceToComCmd(txBuf, icsNum, offset, dataSize);
}

/**
* @brief ICSï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[in] idNum		ï¿½Tï¿½[ï¿½{ï¿½ï¿½IDï¿½Ôï¿½
* @param[in] sioNum		SIO(SioNum)ï¿½Ì”Ôï¿½
* @param[in] offset		ï¿½ï¿½ï¿½oï¿½Cï¿½gï¿½ï¿½ï¿½ê‚½ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½é‚©
* @param[in] dataSize	ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details RCB4ï¿½ï¿½ICSï¿½Gï¿½ï¿½ï¿½Aï¿½ÉŠï¿½ï¿½è“–ï¿½Ä‚ï¿½ê‚½ï¿½fï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::moveDeviceToComCmd(byte idNum,byte sioNum, byte offset, byte dataSize)
{
	return  moveDeviceToComCmd(txBuf, icsNum2id(idNum, sioNum), offset, dataSize);
}




//ï¿½wï¿½è‚µï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½v(CALL)ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] romAddr		ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½X
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @details ROMï¿½Ìwï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½é–½ï¿½ß‚ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details Callï¿½ï¿½ï¿½ß‚È‚Ì‚ÅAï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çŒ³ï¿½ÌêŠï¿½É–ß‚ï¿½Ü‚ï¿½ï¿½B
**/
int Rcb4BaseClass::callCmd(byte *txData,long romAddr)
{
	if(checkuning(txData) == false)	return -1;

	byte	*ptr;
	DwordByte	wk;
	
	wk.dword = (uint32_t)romAddr;
	ptr = txData;

	*ptr++ = 0x07;				//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½ÍŒÅ’ï¿½)
	*ptr++ = Call;				//Callï¿½Rï¿½}ï¿½ï¿½ï¿½h
	*ptr++ = wk.byte[0];		//ï¿½Aï¿½hï¿½ï¿½ï¿½X
	*ptr++ = wk.byte[1];
	*ptr++ = wk.byte[2];
	*ptr++ = 0x00;				//ï¿½ï¿½ï¿½è€ï¿½Ú@=>ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Å”ï¿½ï¿½
	setCheckSum(txData);		//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	return 0x07;

}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½v(CALL)ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] romAddr		ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½X
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ROMï¿½Ìwï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½é–½ï¿½ß‚ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details Callï¿½ï¿½ï¿½ß‚È‚Ì‚ÅAï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çŒ³ï¿½ÌêŠï¿½É–ß‚ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::callCmd(long romAddr)
{
	return callCmd(txBuf, romAddr);
}





//ï¿½Tï¿½[ï¿½{ï¿½ï¿½1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½)
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ì¬ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] servoData	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½1ï¿½Ü‚Æ‚Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½^
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details 1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ServoDataï¿½^ï¿½É‚ÍAï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½IDï¿½ÈŠOï¿½É‚ï¿½SIOï¿½Æ“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::runSingleServoCmd (byte *txData,ServoData servoData,byte frame)
{
	return runSingleServoCmd (txData, servoData.Id, servoData.Sio, servoData.Data, frame);
}


/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ì¬ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] servoData	ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½1ï¿½Ü‚Æ‚Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½^
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details 1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ServoDataï¿½^ï¿½É‚ÍAï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½IDï¿½ÈŠOï¿½É‚ï¿½SIOï¿½Æ“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::runSingleServoCmd (ServoData servoData,byte frame)
{
	return runSingleServoCmd (txBuf, servoData.Id, servoData.Sio, servoData.Data, frame);
}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ì¬ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] idNum	ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½IDï¿½Ôï¿½
* @param[in] sioNum	ï¿½Ú‘ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½SIO(SioNum)ï¿½Ì”Ôï¿½
* @param[in] pos	ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^(ï¿½Ú•Wï¿½l)
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details 1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::runSingleServoCmd (byte *txData,byte idNum,byte sioNum,int pos,byte frame)
{
	if(checkuning(txData) == false)	return -1;

	byte	*ptr;
	WordByte wk;

	ptr = txData;
	wk.word = pos;
	
	*ptr++ = 0x07;						//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½ÍŒÅ’ï¿½)
	*ptr++ = SingleServo;				//1ï¿½ÂƒTï¿½[ï¿½{ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ß‚ÌƒRï¿½}ï¿½ï¿½ï¿½h
	*ptr++ = icsNum2id(idNum, sioNum);	//ICSï¿½Ôï¿½
	*ptr++ = frame;						//ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
	*ptr++=  wk.byte[0];				//ï¿½|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^
	*ptr++=  wk.byte[1];
	setCheckSum(txData);				//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	return 0x07;
}

/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ì¬ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] idNum	ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½IDï¿½Ôï¿½
* @param[in] sioNum	ï¿½Ú‘ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½SIO(SioNum)ï¿½Ì”Ôï¿½
* @param[in] pos	ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^(ï¿½Ú•Wï¿½l)
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details 1ï¿½Â‚ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::runSingleServoCmd (byte idNum,byte sioNum,int pos,byte frame)
{
	return runSingleServoCmd (txBuf, idNum, sioNum, pos, frame);
}


/**
* @brief ï¿½ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÉƒAï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½ÉƒRï¿½}ï¿½ï¿½ï¿½hï¿½Åuï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ì¬
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½uï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½vï¿½Ìƒfï¿½[ï¿½^
* @details ï¿½uï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½vï¿½É‚ï¿½1bitï¿½ï¿½ï¿½Âï¿½ï¿½Ô‚É“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½(ï¿½tï¿½ï¿½ï¿½O)ï¿½ğ—§‚Ä‚Ä‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int64_t	Rcb4BaseClass::setServoNo (ServoData servoDatas[],byte servoCount)
{
	byte	no;
	int64_t	ret = 0;
	for(int i = 0; i < servoCount ; i++)
	{
		no = icsNum2id(servoDatas[i].Id, servoDatas[i].Sio);
		int64_t sf = 0x1;
		ret |=  (sf << no);
	}

	return ret;
}


///
///	ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½\ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½Ì‚Æ‚ï¿½ï¿½Ä‚ï¿½ï¿½Tï¿½[ï¿½{ï¿½fï¿½[ï¿½^ï¿½Ì•Ô‹p
///
/**
* @brief ï¿½ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÉƒAï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½ÉƒTï¿½[ï¿½{ï¿½Ìï¿½ï¿½Ô‚Ìwï¿½è‚ªï¿½ï¿½ï¿½ï¿½Ì‚Åƒ\ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½
* @param[in,out] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½uï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½vï¿½Ìƒfï¿½[ï¿½^
* @retval true ï¿½\ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½
* @retval false	ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ICSï¿½Ôï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è“–ï¿½Ä‚ï¿½ï¿½æ‚¤ï¿½Æ‚ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½
* @details ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½Ô‚É•ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½Kï¿½vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚Å‚ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½\ï¿½[ï¿½gï¿½ï¿½ï¿½Ü‚ï¿½
* @attention servoDatasï¿½ï¿½ï¿½Ì‚ï¿½ï¿½Ì‚ï¿½ï¿½\ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @attention ï¿½fï¿½[ï¿½^ï¿½ï¿½Ûï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½ÍAï¿½Rï¿½sï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½gï¿½pï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
**/	
bool Rcb4BaseClass::sortServoDatas(ServoData servoDatas[],byte servoCount)
{
	const int servoMaxCount = 36;
	
	if(servoCount > servoMaxCount)	//ï¿½Tï¿½[ï¿½{ï¿½ÌŒÂï¿½ï¿½Èã‚ ï¿½ï¿½æ‚¤ï¿½È‚ç”²ï¿½ï¿½ï¿½ï¿½
	{
		return false;
	}
	
	ServoData bufServoDatas[servoMaxCount];//ï¿½êï¿½Iï¿½É•Û‘ï¿½ï¿½ï¿½ï¿½ï¿½oï¿½bï¿½tï¿½@
	
	int i;		//ï¿½ï¿½ï¿½[ï¿½vï¿½p
	
	for(i = 0;i<servoMaxCount;i++)		//ï¿½Æ‚è‚ ï¿½ï¿½ï¿½ï¿½0xFFï¿½Åï¿½ï¿½ï¿½ï¿½ï¿½
	{
		bufServoDatas[i].Id = 0xFF;
		bufServoDatas[i].Sio = 0xFF;	
	}
	
	for(i = 0;i<servoCount;i++)//ï¿½Tï¿½[ï¿½{ï¿½ÌŒÂï¿½ï¿½ï¿½ï¿½ï¿½ï¿½è‚©ï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½Yï¿½ï¿½ï¿½ï¿½ï¿½ï¿½zï¿½ï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
	{
		byte sioNum =  icsNum2id(servoDatas[i].Id,servoDatas[i].Sio);	//ICSï¿½Ôï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½ï¿½
		
		if(sioNum > servoMaxCount)		//ICSï¿½Ôï¿½ï¿½ï¿½ï¿½Ï‚Èï¿½ï¿½É‚È‚ï¿½ï¿½ï¿½ï¿½ê‡ï¿½Í”ï¿½ï¿½ï¿½ï¿½ï¿½
		{
			return false;
		}
		
		//ï¿½ï¿½ï¿½Ä‚Í‚Ü‚ï¿½Æ‚ï¿½ï¿½ï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
		bufServoDatas[sioNum].Id = servoDatas[i].Id;
		bufServoDatas[sioNum].Sio = servoDatas[i].Sio;
		bufServoDatas[sioNum].Data = servoDatas[i].Data;
		
	}
	
	byte j = 0;
	
	for(i = 0;i<servoMaxCount;i++)		//ï¿½ï¿½ï¿½Ä‚Í‚Ü‚é‡ï¿½Ô‚ï¿½ï¿½ï¿½ï¿½ï¿½
	{
		if(bufServoDatas[i].Id != 0xFF)		//ï¿½ï¿½ï¿½Ô‚É‰ñ‚µ‚Ä‚ï¿½ï¿½ï¿½ï¿½Äƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê‡
		{
			//ï¿½lï¿½ï¿½ï¿½ï¿½
			servoDatas[j].Id = bufServoDatas[i].Id;
			servoDatas[j].Sio = bufServoDatas[i].Sio;
			servoDatas[j].Data = bufServoDatas[i].Data;
			
			j++;	//ï¿½ï¿½ï¿½Éiï¿½ß‚ï¿½
			
			if(j >= servoCount)	//ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½Iï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ç”²ï¿½ï¿½ï¿½ï¿½
			{
				break;
			}
		}	
	}
	
	return true;
	
}


//ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒTï¿½[ï¿½{ï¿½ğ“®‚ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½Â“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚Íƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::runConstFrameServoCmd (byte *txData,ServoData servoDatas[],byte servoCount,byte frame)
{

	if(checkuning(txData) == false)	return -1;	

	//ï¿½ï¿½ï¿½ï¿½ï¿½Íƒfï¿½[ï¿½^ï¿½ï¿½ÏXï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½Rï¿½sï¿½[ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
	ServoData sDataBuf[servoCount];
	memcpy(sDataBuf,servoDatas , sizeof(ServoData)*servoCount);
	
	byte	*ptr;
	QwordByte wk;

	ptr = txData;

	wk.qword = setServoNo (sDataBuf, servoCount);		//ï¿½uï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½vï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
	
	*ptr++ = servoCount * 2 + 9;						//ï¿½ï¿½ï¿½Cï¿½Éˆï¿½ÔÅï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
	*ptr++ = ConstFrameServo;							//ï¿½ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½h
	*ptr++ = wk.byte[0];								//ï¿½uï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½vï¿½ï¿½ï¿½ï¿½
	*ptr++ = wk.byte[1];
	*ptr++ = wk.byte[2];
	*ptr++ = wk.byte[3];
	*ptr++ = wk.byte[4];
	*ptr++ = frame;										//ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
	
	if(sortServoDatas(sDataBuf, servoCount) == false)		//ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚É•ï¿½ï¿½×‘Ö‚ï¿½ï¿½ï¿½
	{
		return -1;
	}


	
	for(int i = 0; i < servoCount ; i++)	//ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚É“ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
	{
		wk.word[0] = sDataBuf[i].Data;
		*ptr++=  wk.byte[0];
		*ptr++=  wk.byte[1];
	}
	
	setCheckSum(txData);		//ï¿½ÅŒï¿½Íƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	
	return servoCount * 2 + 9;
	
}


/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½Â“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚Íƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::runConstFrameServoCmd (ServoData servoDatas[],byte servoCount,byte frame)
{
	return runConstFrameServoCmd (txBuf, servoDatas, servoCount, frame);
}




//ï¿½ï¿½xï¿½É•ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒpï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ÏXï¿½ï¿½ï¿½ï¿½)
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½Âƒpï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½Ï‚ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] servoParameter (Stretch:1 Speed:2)
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚ÍƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½ï¿½Xï¿½sï¿½[ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½(Max 127)
**/	
int Rcb4BaseClass::setParametersBaseCmd (byte *txData, byte servoParameter,ServoData servoDatas[],byte servoCount)
{
	if(checkuning(txData) == false)	return -1;

	
	//ï¿½ï¿½ï¿½ï¿½ï¿½Íƒfï¿½[ï¿½^ï¿½ï¿½ÏXï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½Rï¿½sï¿½[ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
	ServoData sDataBuf[servoCount];
	memcpy(sDataBuf,servoDatas , sizeof(ServoData)*servoCount);


	byte	*ptr;
	QwordByte wk;

	ptr = txData;

	if(sortServoDatas(sDataBuf, servoCount) == false)		//ï¿½Rï¿½sï¿½[ï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½Íƒ\ï¿½[ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
	{
		return -1;
	}

	wk.qword = setServoNo (sDataBuf, servoCount);		//ï¿½uï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½vï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½

	*ptr++ = servoCount + 9;		//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½
	*ptr++ = ServoParam;			//ï¿½pï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½ÏXï¿½Rï¿½}ï¿½ï¿½ï¿½h
	*ptr++ = wk.byte[0];			//ï¿½uï¿½ï¿½ï¿½ì‚³ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìwï¿½ï¿½v
	*ptr++ = wk.byte[1];			
	*ptr++ = wk.byte[2];
	*ptr++ = wk.byte[3];
	*ptr++ = wk.byte[4];
	*ptr++ = servoParameter;		//(Stretch:1 Speed:2)
	for(int i = 0; i < servoCount ; i++)				//ï¿½\ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½
	{
		*ptr++=  (byte)( sDataBuf[i].Data & 0x00ff);
	}
	setCheckSum(txData);
	return servoCount + 9;
}



//ï¿½ï¿½xï¿½É•ï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒpï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ÏXï¿½ï¿½ï¿½ï¿½)
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½Âƒpï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½Ï‚ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[in] servoParameter (Stretch:1 Speed:2)
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚ÍƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½ï¿½Xï¿½sï¿½[ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½(Max 127)
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::setParametersBaseCmd (byte servoParameter,ServoData servoDatas[],byte servoCount)
{
	return	setParametersBaseCmd (txBuf, servoParameter, servoDatas, servoCount);
}



//ï¿½ï¿½xï¿½ÉƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½sï¿½[ï¿½hï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½ÂƒXï¿½sï¿½[ï¿½hï¿½ï¿½Ï‚ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚ÍƒXï¿½sï¿½[ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½(Max 127)
**/	
int Rcb4BaseClass::setSpeedCmd (byte *txData,ServoData servoDatas[],byte servoCount)
{
	return	setParametersBaseCmd (txData, 0x02, servoDatas, servoCount);
}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½ÂƒXï¿½sï¿½[ï¿½hï¿½ï¿½Ï‚ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½

* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚ÍƒXï¿½sï¿½[ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½(Max 127)
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::setSpeedCmd (ServoData servoDatas[],byte servoCount)
{
	return	setParametersBaseCmd (txBuf, 0x02, servoDatas, servoCount);
}



//(ï¿½ï¿½xï¿½ÉƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½)
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½ÂƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½ï¿½Ï‚ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚ÍƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½(Max 127)
**/	
int Rcb4BaseClass::setStretchCmd (byte *txData,ServoData servoDatas[],byte servoCount)
{
	return	setParametersBaseCmd (txData, 0x01, servoDatas, servoCount);
}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ•¡ï¿½ï¿½ÂƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½ï¿½Ï‚ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[in] servoDatas[]	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½
* @param[in] servoCount	ï¿½Aï¿½Nï¿½Zï¿½Xï¿½ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½Ìƒfï¿½[ï¿½^ï¿½Ì”zï¿½ï¿½(ï¿½Tï¿½[ï¿½{ï¿½Ìï¿½)
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @retval -1	ï¿½oï¿½bï¿½tï¿½@ï¿½É‰ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½Tï¿½Cï¿½Yï¿½ï¿½249byteï¿½Èï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ÂƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @details ï¿½Ô’lï¿½ï¿½txDataï¿½Ìƒfï¿½[ï¿½^byteï¿½ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½Ì‚Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ServoDataï¿½ï¿½dataï¿½É‚ÍƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½(Max 127)
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::setStretchCmd (ServoData servoDatas[],byte servoCount)
{
	return	setParametersBaseCmd (txBuf, 0x01, servoDatas, servoCount);
}

//ackï¿½ï¿½Ô‚ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìì¬
/**
* @brief ackï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @param[out] *txData	ï¿½ï¿½ï¿½İ“ï¿½ï¿½ï¿½æ‚¤ï¿½Ævï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‘—ï¿½Mï¿½oï¿½bï¿½tï¿½@
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @details ACKï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
**/	
int Rcb4BaseClass::acknowledgeCmd (byte *txData)
{
	byte	*ptr;
	ptr = txData;

	*ptr++ = 0x04;				//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½(ï¿½ï¿½ï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ÍŒÅ’ï¿½)
	*ptr++ = AckCheck;			//ACKï¿½Rï¿½}ï¿½ï¿½ï¿½h
	*ptr++ = Ack;				//ACK
	setCheckSum(txData);		//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½
	return	0x04;
}

/**
* @brief ackï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
* @return ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½ï¿½
* @details ACKï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ğ¶ï¿½ï¿½ï¿½ï¿½ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
int Rcb4BaseClass::acknowledgeCmd ()
{
	return acknowledgeCmd(txBuf);
}

//////////////////////////////////////////////////////////////////////////////////////////
//ï¿½ÊMï¿½ÖŒWï¿½iï¿½ï¿½ï¿½ï¿½ï¿½ÍƒCï¿½ï¿½ï¿½^ï¿½[ï¿½tï¿½Fï¿½Cï¿½Xï¿½Nï¿½ï¿½ï¿½Xï¿½j

//ï¿½ï¿½ï¿½Û‚É‘ï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½sï¿½ï¿½
//bool Rcb4BaseClass::synchronize(byte txBuf[],byte txLen,byte rxBuf[],byte rxLen)
//{
//
//	isSynchronize = true;
//	if (rcbHardSerial != nullptr)
//	{
//
//		isSynchronize = true;
//		rcbHardSerial->flush();
//
//		for(byte i = 0; i < txLen; i++)
//		{
//			rcbHardSerial->write(txBuf[i]);
//	}
//
//		rcbHardSerial->setTimeout(g_timeout);
//		if(rcbHardSerial->readBytes(rxBuf,rxLen) == rxLen)
//		{
//			isSynchronize = false;
//			return checkReverceCmd(rxBuf,txBuf[1]);
//	}
//		else
//		{//ï¿½ï¿½Ñ±ï¿½ï¿½
//			isSynchronize = false;
//			return	false;
//	}
//	}
//	else
//	{
//		return false;
//
//	}
//
//	return true;
//}
//



//ackï¿½ğ‘—‚ï¿½ï¿½Ä‚Â‚È‚ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½mï¿½Fï¿½ï¿½ï¿½ï¿½
/**
* @brief ackï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ‘—M
* @return ACKï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ã‡ï¿½Û”ï¿½ï¿½ï¿½
* @retval False ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ä‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½NCKï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½
* @details ACKï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ğ‘—Mï¿½ï¿½ï¿½ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½fï¿½[ï¿½^ï¿½ï¿½Rcb4BaseClassï¿½ï¿½txBufï¿½ï¿½ï¿½É“ï¿½ï¿½ï¿½Ü‚ï¿½
**/	
bool Rcb4BaseClass::checkAcknowledge()
{
	bool checkFlag = true; 
		
	acknowledgeCmd (txBuf);		//ACKï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìï¿½ï¿½ï¿½
	
	checkFlag = synchronize(txBuf, txBuf[0], rxBuf, 4);		//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ì‘ï¿½ï¿½M
	
	if( false == checkFlag || rxBuf[2] == Nack)				//ï¿½ï¿½ï¿½Û”ï¿½ï¿½ï¿½
	{
		return false;
	}
	else					//ï¿½ï¿½ï¿½È‚ï¿½ï¿½ê‡ï¿½ï¿½trueï¿½ï¿½Ô‚ï¿½
	{
		return true;
	}
}



//////////////////////////////////////////////////////////////////////////
//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ÌŒvï¿½Z
/**
* @brief ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] dataBytes[]	ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^
* @return ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½
* @details ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìæ“ªï¿½É‚ÍƒRï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½
**/	
byte	Rcb4BaseClass::CheckSum(byte dataBytes[])
{
	byte sum = 0;
	for(int i = 0; i < dataBytes[0] - 1; i++ )
	{
		sum += dataBytes[i];
	}
	return sum;
}



//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½)
/**
* @brief ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½Aï¿½ÅŒï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in,out] dataBytes[]	ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^
* @return ï¿½ï¿½ï¿½ï¿½ê‚½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½ï¿½Ì”ï¿½ï¿½ï¿½
* @retval False ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìæ“ªï¿½ï¿½0ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
* @details ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Zï¿½ï¿½ï¿½Aï¿½ÅŒï¿½ï¿½ï¿½É‘ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìæ“ªï¿½É‚ÍƒRï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½
**/	
bool Rcb4BaseClass::setCheckSum(byte dataBytes[])
{
	if(dataBytes[0] == 0)
	{
		return false;
	}
	else
	{
		dataBytes[dataBytes[0] -1 ] = CheckSum(dataBytes); 
		return true;
	}
}



//ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½mï¿½Fï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½mï¿½Fï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] dataBytes[]	ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^
* @return ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½Ì”ï¿½ï¿½ï¿½
* @retval False ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½Ôˆï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½Aï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½0ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½mï¿½Fï¿½ï¿½ï¿½Ü‚ï¿½
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìæ“ªï¿½É‚Íƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½
**/	
bool Rcb4BaseClass::checkCheckSum(byte dataBytes[])
{
	if(dataBytes[0] == 0)
	{
		return false;
	}
	else
	{
		if(dataBytes[dataBytes[0] -1 ] == CheckSum(dataBytes))
		{
			return true;
		}
		else
		{
			return false;
		}
	}
}


//ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½Å’ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½mï¿½Fï¿½ï¿½ï¿½ï¿½)
/**
* @brief ï¿½ÔMï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ÈˆÕ“Iï¿½`ï¿½Fï¿½bï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] dataBytes[]	ï¿½ÔMï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½zï¿½ï¿½
* @param[in] cmd			ï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½h
* @return ï¿½ÔMï¿½fï¿½[ï¿½^ï¿½Ì”ï¿½ï¿½ï¿½
* @retval False ï¿½`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½Ôˆï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½ï¿½A2byteï¿½Ú‚ï¿½ï¿½ï¿½ï¿½Mï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Æˆï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½
* @details ï¿½ÔMï¿½fï¿½[ï¿½^ï¿½ÌŠÈˆÕƒ`ï¿½Fï¿½bï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
		 ï¿½ÔMï¿½fï¿½[ï¿½^ï¿½Ìƒ`ï¿½Fï¿½bï¿½Nï¿½Tï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÑƒRï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½Ìƒ`ï¿½Fï¿½bï¿½N
* @attention ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½Ìæ“ªï¿½É‚Íƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½
**/	
bool Rcb4BaseClass::checkReverceCmd(byte dataBytes[],byte cmd)
{

//	const	byte cnmtbl[8] = {Move,	Jump, Call,	SingleServo, ConstFrameServo,ServoParam,AckCheck,None};	//ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	if(checkCheckSum(dataBytes) == true && dataBytes[1] == cmd)
	{
		return true;
	}
	else
	{
		return false;
	}
}

//
//	moveRamToComCmdï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½Mï¿½Ü‚Å‚ÌŠÖï¿½
//
/**
* @brief Moveï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½RAMï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] scrAddr	ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½RAMï¿½fï¿½[ï¿½^ï¿½Ìæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½X
* @param[in] scrDataSize	ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½RAMï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½
* @param[out] rxDara[]		ï¿½ï¿½Mï¿½fï¿½[ï¿½^(ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½RAMï¿½Ìƒfï¿½[ï¿½^ï¿½Ì‚ï¿½)
* @return ï¿½ÔMï¿½fï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½
* @retval -1 (0xFFFF) ï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½sï¿½ï¿½
* @details RAMï¿½ï¿½wï¿½è‚µï¿½ï¿½ï¿½æ“ªï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ï¿½ï¿½ï¿½wï¿½è‚µï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note ï¿½Ô‚ï¿½lï¿½ÍƒRï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½Ü‚Ü‚È‚ï¿½ï¿½fï¿½[ï¿½^ï¿½É‚È‚ï¿½Ü‚ï¿½ï¿½B
* @date 2019/01/16 rxBufï¿½Ìæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½memcopyï¿½ï¿½ï¿½sï¿½ï¿½ï¿½Æ—\ï¿½ï¿½ï¿½ï¿½ï¿½Êƒfï¿½[ï¿½^ï¿½ÅŒë“®ï¿½ì‚·ï¿½ï¿½Ì‚ï¿½forï¿½ï¿½ï¿½Åƒfï¿½[ï¿½^ï¿½ï¿½}ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½æ‚¤ï¿½É•ÏX
**/	
unsigned short Rcb4BaseClass::moveRamToComCmdSynchronize(int scrAddr,byte scrDataSize,byte	rxDara[])
{	
	
	if(	moveRamToComCmd(scrAddr ,scrDataSize) == -1)	return 0xffff;



	if(synchronize(txBuf, txBuf[0], rxBuf, scrDataSize + 3) == true)
	{
		//2019/01/16 memcopyï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½rxBuf[0]ï¿½É—\ï¿½ï¿½ï¿½ï¿½ï¿½Êƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ê‡ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ÅAforï¿½É•ÏX
		for(int i = 0;i<scrDataSize;i++)
		{
			rxDara[i] = rxBuf[i+2];
		}
		
		return scrDataSize;
		
		return 0xffff;
	}
	else
	{
	
		return 0xffff;
	}
}


//
//	moveComToRamCmdï¿½ï¿½ï¿½ï¿½ACKï¿½ï¿½Mï¿½Ü‚Å‚ÌŠÖï¿½
//
/**
* @brief Moveï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½RAMï¿½ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½COMï¿½É“]ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] scrAddr	ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½RAMï¿½fï¿½[ï¿½^ï¿½Ìæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½X
* @param[in] destData[]	ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½zï¿½ï¿½(ï¿½Pï¿½ï¿½ï¿½Éƒfï¿½[ï¿½^ï¿½Ì‚ï¿½)
* @param[out] destDataSize	ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½Tï¿½Cï¿½Y(ï¿½Pï¿½ï¿½ï¿½Éƒfï¿½[ï¿½^ï¿½Ì‚ï¿½)
* @return ï¿½ÊMï¿½ï¿½ï¿½è“™
* @retval False ï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½sï¿½ï¿½
* @details COMï¿½ï¿½ï¿½ï¿½RAMï¿½ï¿½Ìwï¿½è‚µï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½İ‚Ü‚ï¿½
**/	
bool	Rcb4BaseClass::moveComToRamCmdSynchronize(int scrAddr,byte destData[],int destDataSize)
{

	if(	moveComToRamCmd(scrAddr ,destData, destDataSize) == -1)	return false;	
	
	if(synchronize(txBuf, txBuf[0], rxBuf, 4) == true)
	{			
		return rxBuf[2] == Ack ?  true: false;
	}
	else
	{
		return false;
	}
}

//
//ï¿½ï¿½ï¿½ï¿½Mï¿½ï¿½`ï¿½bï¿½jï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ‘—‚ï¿½ï¿½ÄAACKï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½mï¿½F
* @param[in] *txData	ï¿½ï¿½ï¿½Mï¿½fï¿½[ï¿½^
* @return ï¿½ÊMï¿½ï¿½ï¿½è“™
* @retval False ï¿½ï¿½ï¿½Mï¿½ï¿½ï¿½sï¿½ï¿½
* @details ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Rï¿½}ï¿½ï¿½ï¿½hï¿½ğ‘—‚ï¿½ï¿½ÄAACKï¿½ï¿½ï¿½Ô‚ï¿½ï¿½Ä‚ï¿½ï¿½é‚©ï¿½mï¿½F
* @note txDataï¿½Ìæ“ªï¿½fï¿½[ï¿½^ï¿½É‚Í‘ï¿½ï¿½Mï¿½fï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½Ü‚ï¿½
**/	
bool	Rcb4BaseClass::SynchronizeAck(byte	*txData)
{
	if(synchronize(txData, *txData, rxBuf, 4) == true)
	{
		return rxBuf[2] == Ack ?  true: false;
	}
	else
	{
		return false;
	}
}




//////////////////////////////////////////////////////////////////////////////////////////
//PIOï¿½ÖŒW
//PIOï¿½ÌŒï¿½ï¿½İ‚Ìï¿½Ô‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½ï¿½ï¿½İ‚ï¿½PIOï¿½Ìï¿½Ô‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @return ï¿½ï¿½ï¿½İ‚ï¿½PIOï¿½Ìï¿½ï¿½(2byteï¿½ï¿½ï¿½Ü‚ß‚ï¿½ï¿½×‚ï¿½)
* @retval -1(0xFFFF) ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½ÄŒï¿½ï¿½İ‚ï¿½PIOï¿½ï¿½Hï¿½ï¿½Lï¿½Ìï¿½Ô‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @attention 1bitï¿½ï¿½ï¿½Â”ï¿½ï¿½ï¿½Å‚ï¿½ï¿½È‚ï¿½ï¿½Ì‚Å’ï¿½ï¿½ï¿½
**/	
unsigned short Rcb4BaseClass::getPio()
{
	byte	wkbuf[10];
	if(moveRamToComCmdSynchronize(PioAddress ,0x02,wkbuf) != 0xffff)
	{
		WordByte wk;
		wk.byte[0] = wkbuf[0];
		wk.byte[1] = wkbuf[1];

		wk.word &= 0x03FF;		//ï¿½ï¿½ï¿½ï¿½È‚ï¿½bitï¿½Íƒ}ï¿½Xï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

		return 	wk.word;	
	}
	else
	{
		return 0xffff;
	}
}

//PIOï¿½Ìï¿½Ô‚ï¿½ÏXï¿½ï¿½ï¿½ï¿½)
/**
* @brief ï¿½ï¿½ï¿½İ‚ï¿½PIOï¿½Ìï¿½Ô‚ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] pioData	PIOï¿½Sï¿½Ì‚Ìƒfï¿½[ï¿½^
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½ÄŒï¿½ï¿½İ‚ï¿½PIOï¿½ï¿½Hï¿½ï¿½Lï¿½Ìï¿½Ô‚É‚ï¿½ï¿½Ü‚ï¿½
* @attention 1bitï¿½ï¿½ï¿½Â•ÏXï¿½Å‚ï¿½ï¿½È‚ï¿½ï¿½Ì‚Å’ï¿½ï¿½ï¿½
**/	
bool Rcb4BaseClass::setPio (unsigned short pioData)
{
	return moveComToRamCmdSynchronize(PioAddress, (byte*)&pioData,2);
}

//PIOï¿½Ì“ï¿½ï¿½oï¿½Í‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½ï¿½ï¿½İ‚ï¿½PIOï¿½Ì“ï¿½ï¿½oï¿½Íï¿½Ô‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @return ï¿½ï¿½ï¿½İ‚ï¿½PIOï¿½Ìï¿½ï¿½(2byteï¿½ï¿½ï¿½Ü‚ß‚ï¿½ï¿½×‚ï¿½)
* @retval -1(0xFFFF) ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½ÄŒï¿½ï¿½İ‚ï¿½PIOï¿½Ì“ï¿½ï¿½Í‚ï¿½ï¿½oï¿½Í‚ï¿½ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @note ï¿½Î‰ï¿½ï¿½ï¿½ï¿½ï¿½bitï¿½Ì@1:ï¿½oï¿½Í@0:ï¿½ï¿½ï¿½ï¿½
* @attention 1bitï¿½ï¿½ï¿½Â”ï¿½ï¿½ï¿½Å‚ï¿½ï¿½È‚ï¿½ï¿½Ì‚Å’ï¿½ï¿½ï¿½
**/	
unsigned short Rcb4BaseClass::getPioMode()
{
	byte	wkbuf[10];
	if(moveRamToComCmdSynchronize(PioModeAddres ,0x02,wkbuf) != 0xffff)
	{
		WordByte wk;
		wk.byte[0] = wkbuf[0];
		wk.byte[1] = wkbuf[1];

		wk.word &= 0x03FF;		//ï¿½ï¿½ï¿½ï¿½È‚ï¿½bitï¿½Íƒ}ï¿½Xï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½

		return 	wk.word;	
	}
	else
	{
		return 0xffff;
	}
}


//PIOï¿½Ì“ï¿½ï¿½oï¿½Í‚Ìwï¿½ï¿½ï¿½ÏXï¿½ï¿½ï¿½ï¿½)
/**
* @brief ï¿½ï¿½ï¿½İ‚ï¿½PIOï¿½Ì“ï¿½ï¿½oï¿½Íï¿½Ô‚ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] pioModeData	PIOï¿½Sï¿½Ì‚Ì“ï¿½ï¿½oï¿½Íƒfï¿½[ï¿½^
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½ÄŒï¿½ï¿½İ‚ï¿½PIOï¿½ï¿½ï¿½Í‚Æoï¿½Í‚ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @note ï¿½Î‰ï¿½ï¿½ï¿½ï¿½ï¿½bitï¿½Ì@1:ï¿½oï¿½Í@0:ï¿½ï¿½ï¿½ï¿½
* @attention 1bitï¿½ï¿½ï¿½Â•ÏXï¿½Å‚ï¿½ï¿½È‚ï¿½ï¿½Ì‚Å’ï¿½ï¿½ï¿½
**/
bool Rcb4BaseClass::setPioMode (unsigned short pioModeData)
{
	return moveComToRamCmdSynchronize(PioModeAddres, (byte*)&pioModeData,2);
}



//////////////////////////////////////////////////////////////////////////////////////////
//ADï¿½ÖŒW
//ADï¿½Ìï¿½Ô‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½ï¿½ï¿½İwï¿½è‚µï¿½ï¿½ADï¿½Ì’lï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] adPort	ADï¿½|ï¿½[ï¿½gï¿½Ìwï¿½ï¿½(0ï¿½`10)
* @return ï¿½wï¿½è‚µï¿½ï¿½ADï¿½Ì’l(ï¿½ï¿½ï¿½ï¿½\10bit)
* @retval -1(0xFFFF) ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½Äwï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½İ‚ï¿½ADï¿½lï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 AD0ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½ÆŒï¿½ï¿½İ‚Ì“dï¿½ï¿½ï¿½dï¿½ï¿½ï¿½lï¿½ğ•ªˆï¿½ï¿½ï¿½ï¿½ï¿½ï¿½lï¿½ï¿½ï¿½Ç‚ß‚Ü‚ï¿½
**/	
unsigned short Rcb4BaseClass::getAdData(int adPort)
{
	byte	wkbuf[10];
	if(moveRamToComCmdSynchronize(AdcRamAddress + adPort * 2 ,0x02,wkbuf) != 0xffff)
	{
		WordByte wk;
		wk.byte[0] = wkbuf[0];
		wk.byte[1] = wkbuf[1];
		
		return 	wk.word;
	}
	else
	{
		return 0xffff;
	}

}

//ï¿½ï¿½ï¿½×‚Ä‚ï¿½ADï¿½Ìï¿½Ô‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½ï¿½ï¿½İ‚ï¿½ADï¿½Ì’lï¿½ï¿½ï¿½×‚Ä‚ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[out] adDatas[] ï¿½ï¿½ï¿½×‚Ä‚ï¿½ADï¿½lï¿½ï¿½ï¿½iï¿½[ï¿½ï¿½ï¿½ï¿½zï¿½ï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½Äwï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½İ‚ï¿½ADï¿½lï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 AD0ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½ÆŒï¿½ï¿½İ‚Ì“dï¿½ï¿½ï¿½dï¿½ï¿½ï¿½lï¿½ğ•ªˆï¿½ï¿½ï¿½ï¿½ï¿½ï¿½lï¿½ï¿½ï¿½Ç‚ß‚Ü‚ï¿½
* @attention adDatas[]ï¿½ï¿½11ï¿½Â•ï¿½ï¿½Ì”zï¿½ï¿½ï¿½ï¿½É—pï¿½Ó‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
**/
bool Rcb4BaseClass::getAllAdData(int	adDatas[])
{
	byte	wkbuf[30];
	
	if(moveRamToComCmdSynchronize(AdcRamAddress  ,AdcDataCount ,wkbuf) != 0xffff)
	{
		int	*iptr = (int*)&wkbuf;
		
		for(int i = 0; i < AdcCount; i++)
		{
			adDatas[i] = *iptr++;
		}
		return 	true;
	}
	else
	{
		return false;
	}
}

//////////////////////////////////////////////////////////////////////////////////////////
//ï¿½{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ğ‘—•t
//KRRï¿½Ì‚ï¿½ï¿½×‚Ä‚Ìƒfï¿½[ï¿½^ï¿½ï¿½İ’è‚·ï¿½ï¿½
/**
* @brief KRRï¿½Ì—Ìˆï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½×‚Ä‘ï¿½ï¿½Mï¿½ï¿½ï¿½ï¿½(ï¿½^ï¿½ï¿½ï¿½Iï¿½Éƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ğ‘—‚ï¿½)
* @param[in] buttonData ï¿½{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^
* @param[in] adData 4byteï¿½ï¿½ï¿½ÌƒAï¿½iï¿½ï¿½ï¿½Oï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½wï¿½ï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½KRRï¿½Ì—Ìˆï¿½Éƒfï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½×‚Ä‘ï¿½ï¿½Mï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 ï¿½{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½RCB4ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @note	ï¿½Tï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½{ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Kï¿½É‚ï¿½ï¿½Ä‚ï¿½ï¿½éƒ‚ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @note	ï¿½{ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚È‚ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚Å‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ï‚È‚ï¿½ï¿½É‚È‚ï¿½Ü‚ï¿½
* @attention RCB4ï¿½ï¿½KRRï¿½ï¿½Ú‘ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
**/
bool Rcb4BaseClass::setKrrData (unsigned short buttonData, byte adData[])
{
	byte	wk[6];
	WordByte wwk;

	wwk.word = buttonData;

	wk[0] = wwk.byte[0];
	wk[1] = wwk.byte[1];
	memcpy(&wk[2],adData,4);
	return moveComToRamCmdSynchronize(KrrButtonDataAddress, wk,6);
}



//KRRï¿½Ìƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½İ’è‚·ï¿½ï¿½
/**
* @brief KRRï¿½Ì—Ìˆï¿½Éƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ğ‘—Mï¿½ï¿½ï¿½ï¿½(ï¿½^ï¿½ï¿½ï¿½Iï¿½Éƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ğ‘—‚ï¿½)
* @param[in] buttonData ï¿½{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½KRRï¿½Ì—Ìˆï¿½Éƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ğ‘—Mï¿½ï¿½ï¿½Ü‚ï¿½
* @note	ï¿½{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½RCB4ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @note	ï¿½Tï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½{ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Kï¿½É‚ï¿½ï¿½Ä‚ï¿½ï¿½éƒ‚ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ğ“®‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Égï¿½pï¿½ï¿½ï¿½Ü‚ï¿½
* @note	ï¿½{ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä‚È‚ï¿½ï¿½ï¿½Ô‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚Å‰ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ï‚È‚ï¿½ï¿½É‚È‚ï¿½Ü‚ï¿½
* @attention RCB4ï¿½ï¿½KRRï¿½ï¿½Ú‘ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
**/
bool Rcb4BaseClass::setKrrButtonData (unsigned short buttonData)
{
	byte wk[2];
	
	WordByte wwk;

	wwk.word = buttonData;
	
	wk[0] = wwk.byte[1];
	wk[1] = wwk.byte[0];			//ï¿½{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½Íƒvï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½çŒ©ï¿½ï¿½Æ‹tï¿½É”zï¿½uï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½
	
	return moveComToRamCmdSynchronize(KrrButtonDataAddress, wk,2);
}

//KRRï¿½ï¿½ADï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½İ’è‚·ï¿½ï¿½)
/**
* @brief KRRï¿½Ì—Ìˆï¿½Éƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ğ‘—Mï¿½ï¿½ï¿½ï¿½(ï¿½^ï¿½ï¿½ï¿½Iï¿½Éƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ğ‘—‚ï¿½)
* @param[in] paPort ï¿½wï¿½è‚·ï¿½ï¿½ADï¿½|ï¿½[ï¿½g(1ï¿½`4)
* @param[in] adData ADï¿½fï¿½[ï¿½^(7bit)
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details Moveï¿½ï¿½ï¿½ß‚ï¿½ï¿½gï¿½ï¿½ï¿½ï¿½KRRï¿½ï¿½ADï¿½fï¿½[ï¿½^ï¿½ğ‘—Mï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 KRRï¿½Éï¿½Mï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ADï¿½Ì—Ìˆï¿½Éƒfï¿½[ï¿½^ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @note	 KRRï¿½ï¿½ADï¿½lï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Äƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÏXï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ê‡ï¿½ÉŠOï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÏXï¿½Å‚ï¿½ï¿½Ü‚ï¿½
* @attention RCB4ï¿½ï¿½KRRï¿½ï¿½Ú‘ï¿½ï¿½ï¿½ï¿½È‚ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
**/
bool Rcb4BaseClass::setKrrAdData (byte paPort, byte adData)
{
	byte	wk[2];

	wk[0] =  adData;
	return moveComToRamCmdSynchronize(KrrPa1Address + (paPort - 1), wk,1);

}



//////////////////////////////////////////////////////////////////////////////////////////
//ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^
//ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Pï¿½Ì‚ğ“®‚ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Pï¿½Ì‚ğ“®ì‚³ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] id		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½IDï¿½Ôï¿½
* @param[in] sio	SIOï¿½Ì’l(SioNum)
* @param[in] pos	ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ì–Ú•Wï¿½|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½l
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½Ù‚Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½è“®ï¿½ï¿½)
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ID,SIO,POS,Frameï¿½ï¿½ï¿½ï¿½ï¿½gï¿½pï¿½ï¿½ï¿½Ä“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Éwï¿½è‚µï¿½ï¿½ï¿½ê‡ï¿½Íƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ÌŠpï¿½xï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½Dï¿½æ‚³ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setSingleServo (byte id, byte sio,int pos,byte frame)
{
	if(runSingleServoCmd(id, sio, pos, frame) == -1)	return false;
	return	SynchronizeAck(txBuf);
}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Pï¿½Ì‚ğ“®ì‚³ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] servoData		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½Ğ‚Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½Ù‚Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½è“®ï¿½ï¿½)
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details servoDataï¿½É“ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½,Frameï¿½ï¿½ï¿½ï¿½ï¿½gï¿½pï¿½ï¿½ï¿½Ä“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Éwï¿½è‚µï¿½ï¿½ï¿½ê‡ï¿½Íƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ÌŠpï¿½xï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½Dï¿½æ‚³ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setSingleServo (ServoData servoData,byte frame)
{
	if(runConstFrameServoCmd(&servoData, 1, frame) == -1)	return false;
	return	SynchronizeAck(txBuf);
}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Pï¿½Ì‚ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½É‚ï¿½ï¿½Ü‚ï¿½
* @param[in] id		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ID
* @param[in] sio	SIOï¿½Ì’l(SioNum)
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ID,SIOï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½É‚ï¿½ï¿½Ü‚ï¿½
* @attention	 Freeï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ï¿½Holdï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½Freeï¿½ï¿½Ô‚ï¿½Û‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setFreeSingleServo (byte id, byte sio)
{
	if(runSingleServoCmd(id, sio, 0x8000, 1) == -1)	return false;
	return	SynchronizeAck(txBuf);
}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Pï¿½Ì‚Éƒgï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] id		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ID
* @param[in] sio	SIOï¿½Ì’l(SioNum)
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ID,SIOï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Éƒgï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
			Freeï¿½ï¿½Ô‚ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚É•ï¿½ï¿½Aï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 Freeï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ï¿½Holdï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½Freeï¿½ï¿½Ô‚ï¿½Û‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setHoldSingleServo (byte id, byte sio)
{
	if(runSingleServoCmd(id, sio, 0x7FFF, 1) == -1)	return false;
	return	SynchronizeAck(txBuf);
}



//ï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ğ“®‚ï¿½ï¿½ï¿½)
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½ğ“®ì‚³ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] servoDatas[]		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½Ğ‚Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•¡ï¿½ï¿½ï¿½
* @param[in] servoCount servoDatasï¿½ÌƒTï¿½[ï¿½{ï¿½Ìï¿½
* @param[in] frame	ï¿½tï¿½ï¿½ï¿½[ï¿½ï¿½ï¿½ï¿½(ï¿½ï¿½ï¿½ï¿½ï¿½Ù‚Ç‚ï¿½ï¿½ï¿½ï¿½ï¿½è“®ï¿½ï¿½)
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details servoDataï¿½É“ï¿½ï¿½ï¿½ï¿½Ä‚ï¿½ï¿½é•¡ï¿½ï¿½ï¿½ÌƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Æ‚ï¿½Frameï¿½ï¿½ï¿½ï¿½ï¿½gï¿½pï¿½ï¿½ï¿½Ä“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Éwï¿½è‚µï¿½ï¿½ï¿½ê‡ï¿½Íƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ÌŠpï¿½xï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½Dï¿½æ‚³ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setServoPos (ServoData servoDatas[],byte servoCount,byte frame)
{
	if(runConstFrameServoCmd(servoDatas, servoCount, frame) == -1)	return false;
	return	SynchronizeAck(txBuf);
}

//ï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½É‚ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Pï¿½Ì‚ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½É‚ï¿½ï¿½Ü‚ï¿½
* @param[in] servoDatas[]		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½Ğ‚Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•¡ï¿½ï¿½ï¿½
* @param[in] servoCount servoDatasï¿½ÌƒTï¿½[ï¿½{ï¿½Ìï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details servoDatas[]ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½É‚ï¿½ï¿½Ü‚ï¿½
* @attention	 Freeï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ï¿½Holdï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½Freeï¿½ï¿½Ô‚ï¿½Û‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @attention	 servoDatasï¿½ï¿½Dataï¿½ï¿½0x8000ï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setFreePos (ServoData servoDatas[],byte servoCount)
{
	for(int i = 0; i < servoCount; i++)
	{
		servoDatas[i].Data = 0x8000;
	}
	return	setServoPos (servoDatas, servoCount, 1);
}



/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÌƒTï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Éƒgï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] servoDatas[]		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½Ğ‚Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•¡ï¿½ï¿½ï¿½
* @param[in] servoCount servoDatasï¿½ÌƒTï¿½[ï¿½{ï¿½Ìï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details servoDatas[]ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ï¿½tï¿½ï¿½ï¿½[ï¿½É‚ï¿½ï¿½Ü‚ï¿½
			Freeï¿½ï¿½Ô‚ï¿½ï¿½ï¿½gï¿½ï¿½ï¿½Nï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ô‚É•ï¿½ï¿½Aï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 Freeï¿½ï¿½ï¿½wï¿½è‚·ï¿½ï¿½ï¿½Holdï¿½ÌƒRï¿½}ï¿½ï¿½ï¿½hï¿½ï¿½ï¿½ï¿½ï¿½sï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½Freeï¿½ï¿½Ô‚ï¿½Û‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @attention	 servoDatasï¿½ï¿½Dataï¿½ï¿½0x7FFFï¿½Éï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setHoldPos (ServoData servoDatas[],byte servoCount)
{
	for(int i = 0; i < servoCount; i++)
	{
		servoDatas[i].Data = 0x7FFF;
	}
	return	setServoPos (servoDatas, servoCount, 1);
}



//ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] id		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ID
* @param[in] sio	SIOï¿½Ì’l(SioNum)
* @return ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^
* @retval -1 ï¿½ÊMï¿½ï¿½ï¿½s
* @details ID,SIOï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒ|ï¿½Wï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ï¿½ï¿½æ“¾ï¿½ï¿½ï¿½Ü‚ï¿½
**/
int Rcb4BaseClass::getSinglePos(byte id,byte sio)
{
	if(moveDeviceToComCmd(id,sio, MotorPositionAddressOffset, 2) == -1)	return -1;
	if(synchronize(txBuf, txBuf[0], rxBuf, 5) == true)
	{
		WordByte	wk;
		wk.byte[0] = rxBuf[2];
		wk.byte[1] = rxBuf[2];
		return wk.word;
	}
	else
	{
		return -1;
	}
}

//ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½sï¿½[ï¿½hï¿½ï¿½ÏXï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½sï¿½[ï¿½hï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] servoDatas[]		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½Ğ‚Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•¡ï¿½ï¿½ï¿½
* @param[in] servoCount servoDatasï¿½ÌƒTï¿½[ï¿½{ï¿½Ìï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details servoDatas[]ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½sï¿½[ï¿½h(ï¿½oï¿½Í‚Ìï¿½ï¿½ï¿½l)ï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 servoDatasï¿½ï¿½Dataï¿½É‚ÍƒXï¿½sï¿½[ï¿½hï¿½lï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setServoSpeed (ServoData servoDatas[],byte servoCount)
{
	
	if(setSpeedCmd(servoDatas, servoCount) == -1)	return false;
	return	SynchronizeAck(txBuf);
}



//ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½ï¿½ÏXï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] servoDatas[]		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½Ìƒfï¿½[ï¿½^ï¿½ï¿½ï¿½Ğ‚Æ‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½É‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ì‚ğ•¡ï¿½ï¿½ï¿½
* @param[in] servoCount servoDatasï¿½ÌƒTï¿½[ï¿½{ï¿½Ìï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details servoDatas[]ï¿½Åwï¿½è‚µï¿½ï¿½ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ÌƒXï¿½gï¿½ï¿½ï¿½bï¿½`(ï¿½_ï¿½ç‚©ï¿½ï¿½)ï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @note	 servoDatasï¿½ï¿½Dataï¿½É‚ÍƒXï¿½gï¿½ï¿½ï¿½bï¿½`ï¿½lï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::setServoStretch (ServoData servoDatas[],byte servoCount)
{
	
	if(setStretchCmd(servoDatas, servoCount) == -1) return false;
	return	SynchronizeAck(txBuf);

}

//IDï¿½ï¿½SIOï¿½ï¿½ï¿½ï¿½ICSï¿½Ôï¿½ï¿½É•ÏŠï¿½ï¿½ï¿½ï¿½ï¿½
/**
* @brief IDï¿½ï¿½SIOï¿½Ì”Ôï¿½ï¿½ï¿½ï¿½ï¿½ICSï¿½Ôï¿½ï¿½É•ÏXï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] id		ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^ï¿½ï¿½ID
* @param[in] sio	SIOï¿½Ì’l(SioNum)
* @return ICSï¿½Ôï¿½
* @details IDï¿½ï¿½SIOï¿½Ì”Ôï¿½ï¿½ï¿½ï¿½ï¿½RCB4ï¿½ï¿½ï¿½ï¿½ï¿½Åˆï¿½ï¿½ï¿½ICSï¿½Ôï¿½ï¿½É•ÏXï¿½ï¿½ï¿½Ü‚ï¿½
**/
byte Rcb4BaseClass::icsNum2id(byte id,byte sio)
{
	return id * 2 + (sio - 1);
}

//////////////////////////////////////////////////////////////////////////////////////////
//ï¿½Tï¿½[ï¿½{ï¿½ï¿½ï¿½[ï¿½^

//ï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] motionNum		ï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½ï¿½éƒ‚ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ôï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note		suspend() => resetProgramCounter() => setMotionNum() => resume() 
* @note		ï¿½êï¿½ï¿½ï¿½f  => ï¿½vï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½Eï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½bï¿½g => ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½v => ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ÌÄŠJ
			ï¿½Ìè‡ï¿½Åƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @attention	ï¿½ï¿½ï¿½İAï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½É~ï¿½ß‚Ä‚ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
**/
bool Rcb4BaseClass::motionPlay(int motionNum)
{
	
	if(suspend() == false)	return false;
	
	if(resetProgramCounter() == false)	return false;
	
	if(setMotionNum(motionNum) == false)	return false;
	
	return resume ();
}



//ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êï¿½ï¿½~ï¿½ï¿½ï¿½ï¿½
/**
* @brief ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êï¿½ï¿½~ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êï¿½ï¿½~ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note		ï¿½ï¿½ï¿½mï¿½É‚ÍAï¿½Vï¿½Xï¿½eï¿½ï¿½ï¿½ï¿½ï¿½Wï¿½Xï¿½^ï¿½ï¿½EnableRunEepromï¿½lï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
				ï¿½xï¿½Nï¿½^ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ğ–³Œï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä–ï¿½ï¿½ï¿½ï¿½@ï¿½È‚Ç‚Ìƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ÅƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½ï¿½ß‚Ü‚ï¿½
* @attention	ï¿½ï¿½ï¿½İAï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½É~ï¿½ß‚Ü‚ï¿½
* @attention	configDataï¿½lï¿½ğ’¼Ú•Ï‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Ó‚ï¿½ï¿½Kï¿½vï¿½Å‚ï¿½
**/
bool Rcb4BaseClass::suspend()
{
	return suspend(&(configData.word));
}



/**
* @brief ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êï¿½ï¿½~ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in,out] config		ï¿½Oï¿½ï¿½ï¿½ÅŠoï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½configï¿½fï¿½[ï¿½^
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êï¿½ï¿½~ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note		ï¿½ï¿½ï¿½mï¿½É‚ÍAï¿½Vï¿½Xï¿½eï¿½ï¿½ï¿½ï¿½ï¿½Wï¿½Xï¿½^ï¿½ï¿½EnableRunEepromï¿½lï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
				ï¿½xï¿½Nï¿½^ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ğ–³Œï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä–ï¿½ï¿½ï¿½ï¿½@ï¿½È‚Ç‚Ìƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ÅƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½Ì‚ï¿½ï¿½ï¿½ß‚Ü‚ï¿½
* @attention	ï¿½ï¿½ï¿½İAï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½É~ï¿½ß‚Ü‚ï¿½
* @attention	configï¿½ï¿½ï¿½ğ’¼Ú•Ï‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Ó‚ï¿½ï¿½Kï¿½vï¿½Å‚ï¿½
**/
bool Rcb4BaseClass::suspend(unsigned short *config)
{
	ConfigData *cData = (ConfigData *)config;
	
	cData->bit.EnableRunEeprom =0;			//EEPROMï¿½Åï¿½ï¿½sï¿½ï¿½ï¿½Ì•ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½~ï¿½ß‚ï¿½
	//configData.bit.EnableServoResponse = 0;		//ï¿½Tï¿½[ï¿½{ï¿½Ìƒï¿½ï¿½Xï¿½|ï¿½ï¿½ï¿½Xï¿½ï¿½Ô‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½
	cData->bit.EnableReferenceTable = 0;	//ï¿½xï¿½Nï¿½^ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ğ–³Œï¿½ï¿½É‚ï¿½ï¿½ï¿½
	//configData.bit.EnableSio = 1;				//SIOï¿½Í“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚Ü‚É‚ï¿½ï¿½ï¿½
	
	return moveComToRamCmdSynchronize(ConfigRamAddress, (byte*)config,2);
	

}



//ROMï¿½Ìƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½É”ï¿½ï¿½
/**
* @brief ï¿½wï¿½è‚µï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in] motionNum		ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½éƒ‚ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ôï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½vï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½Eï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½bï¿½gï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @note		CALLï¿½ï¿½ï¿½ß‚Åwï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ìæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½Ü‚ï¿½
* @attention	ï¿½ï¿½ï¿½İAï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½ÉƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½ï¿½ï¿½Ì‚Å’ï¿½ï¿½Ó‚ï¿½ï¿½Kï¿½vï¿½Å‚ï¿½
**/
bool Rcb4BaseClass::setMotionNum(byte motionNum)
{
	if(callCmd(txBuf	,motionAddr2motionNum(motionNum)) == -1) return false;
	return SynchronizeAck(txBuf);
}



//ï¿½vï¿½ï¿½ï¿½tï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½Eï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½bï¿½gï¿½ï¿½ï¿½Ü‚ï¿½
/**
* @brief ï¿½vï¿½ï¿½ï¿½tï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½Eï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½bï¿½gï¿½ï¿½ï¿½Ü‚ï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½vï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½Eï¿½ï¿½ï¿½^ï¿½ï¿½ï¿½ï¿½ï¿½Zï¿½bï¿½gï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
* @note		ï¿½vï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½ï¿½ï¿½Jï¿½Eï¿½ï¿½ï¿½^ï¿½ï¿½RCB4ï¿½ï¿½ï¿½ï¿½ï¿½İ’ï¿½ï¿½ÌƒAï¿½hï¿½ï¿½ï¿½Xï¿½ÉˆÚ“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½B
			ï¿½Ü‚ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½ï¿½EEPROMï¿½Xï¿½Vï¿½tï¿½ï¿½ï¿½Oï¿½ï¿½0ï¿½É‚ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @attention	ï¿½ï¿½ï¿½İAï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½É•Ï‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Ó‚ï¿½ï¿½Kï¿½vï¿½Å‚ï¿½
**/
bool Rcb4BaseClass::resetProgramCounter()
{
	WordByte wwk;
	byte	wk[10];

	wwk.word = MainLoopCmd;
	memset(wk,0x00,10);
	wk[0] = wwk.byte[0];  
	wk[1] = wwk.byte[1]; 
	return moveComToRamCmdSynchronize(ProgramCounterRamAddress, wk,10);
}



//ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Xï¿½^ï¿½[ï¿½g(ï¿½ï¿½ï¿½A)ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
/**
* @brief ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÄŠJï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êï¿½ï¿½~ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note		ï¿½ï¿½ï¿½mï¿½É‚ÍAï¿½Vï¿½Xï¿½eï¿½ï¿½ï¿½ï¿½ï¿½Wï¿½Xï¿½^ï¿½ï¿½EnableRunEepromï¿½lï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
				ï¿½xï¿½Nï¿½^ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä–ï¿½ï¿½ï¿½ï¿½@ï¿½È‚Ç‚Ìƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ÅƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Å‚ï¿½ï¿½ï¿½æ‚¤ï¿½É‚ï¿½ï¿½Ü‚ï¿½
* @attention	ï¿½ï¿½ï¿½İAï¿½ï¿½ï¿½Ìƒï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Äï¿½ï¿½ï¿½ï¿½Å‚ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Iï¿½É~ï¿½ß‚Ü‚ï¿½
* @attention	configDataï¿½lï¿½ğ’¼Ú•Ï‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Ó‚ï¿½ï¿½Kï¿½vï¿½Å‚ï¿½
**/
bool Rcb4BaseClass::resume ()
{
	return resume(&(configData.word));
}



/**
* @brief ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ÄŠJï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @param[in,out] config		ï¿½Oï¿½ï¿½ï¿½ÅŠoï¿½ï¿½ï¿½Ä‚ï¿½ï¿½ï¿½configï¿½fï¿½[ï¿½^
* @return ï¿½ÊMï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ç‚ï¿½ï¿½ï¿½
* @retval False ï¿½ÊMï¿½ï¿½ï¿½s
* @details ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½êï¿½ï¿½~ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½
* @note		ï¿½ï¿½ï¿½mï¿½É‚ÍAï¿½Vï¿½Xï¿½eï¿½ï¿½ï¿½ï¿½ï¿½Wï¿½Xï¿½^ï¿½ï¿½EnableRunEepromï¿½lï¿½ï¿½ÏXï¿½ï¿½ï¿½Ü‚ï¿½
				ï¿½xï¿½Nï¿½^ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½Lï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ä–ï¿½ï¿½ï¿½ï¿½@ï¿½È‚Ç‚Ìƒ{ï¿½^ï¿½ï¿½ï¿½fï¿½[ï¿½^ï¿½ÅƒWï¿½ï¿½ï¿½ï¿½ï¿½vï¿½Å‚ï¿½ï¿½ï¿½æ‚¤ï¿½É‚ï¿½ï¿½Ü‚ï¿½
* @attention	configï¿½ï¿½ï¿½ğ’¼Ú•Ï‚ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚ÅAï¿½ï¿½ï¿½Ó‚ï¿½ï¿½Kï¿½vï¿½Å‚ï¿½
**/
bool Rcb4BaseClass::resume (unsigned short *config)
{
	ConfigData *cData = (ConfigData *)config;
	
	cData->bit.EnableRunEeprom =1;			//EEPROMï¿½Ì“Ç‚İï¿½ï¿½İ“ï¿½ï¿½ï¿½ï¿½ï¿½Xï¿½^ï¿½[ï¿½gï¿½ï¿½ï¿½ï¿½ï¿½ï¿½
	//configData.bit.EnableServoResponse = 0;		//ï¿½Tï¿½[ï¿½{ï¿½Ìƒï¿½ï¿½Xï¿½|ï¿½ï¿½ï¿½Xï¿½ï¿½Ô‚ï¿½ï¿½È‚ï¿½ï¿½ï¿½ï¿½ï¿½
	cData->bit.EnableReferenceTable = 1;	//ï¿½xï¿½Nï¿½^ï¿½Wï¿½ï¿½ï¿½ï¿½ï¿½vï¿½ï¿½Lï¿½ï¿½ï¿½É‚ï¿½ï¿½ï¿½
	//configData.bit.EnableSio = 1;				//SIOï¿½Í“ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚Ü‚É‚ï¿½ï¿½ï¿½
	
	return moveComToRamCmdSynchronize(ConfigRamAddress, (byte*)config,2);
	
}



//ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ôï¿½ï¿½ï¿½ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ìæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½É•ÏŠï¿½
/**
* @brief ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ôï¿½ï¿½ï¿½ï¿½çƒ‚ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ìæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ï¿½ï¿½ï¿½ï¿½ß‚Ü‚ï¿½
* @return ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ôï¿½ï¿½Ìæ“ªï¿½ÌƒAï¿½hï¿½ï¿½ï¿½X
* @details ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ôï¿½ï¿½ï¿½ï¿½çƒ‚ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Ìæ“ªï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ï¿½ï¿½ï¿½ï¿½ß‚Ü‚ï¿½
* @note		ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÉŠÖ‚ï¿½ï¿½Ä‚ï¿½RCB-4ï¿½vï¿½ï¿½ï¿½Oï¿½ï¿½ï¿½~ï¿½ï¿½ï¿½Oï¿½}ï¿½jï¿½ï¿½ï¿½Aï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½B
* @attention	ï¿½ï¿½ï¿½[ï¿½Vï¿½ï¿½ï¿½ï¿½ï¿½Aï¿½hï¿½ï¿½ï¿½Xï¿½ÍAHTH4ï¿½ï¿½V2.2ï¿½È~ï¿½ÌƒAï¿½hï¿½ï¿½ï¿½Xï¿½É‚È‚ï¿½Ü‚ï¿½ï¿½B
* @attention	V2.0ï¿½È‘Oï¿½ÌƒAï¿½hï¿½ï¿½ï¿½Xï¿½Å‚ÍŒë“®ï¿½ï¿½ï¿½ï¿½ï¿½ï¿½Ü‚ï¿½ï¿½Ì‚Å’ï¿½ï¿½Ó‚ï¿½ï¿½Kï¿½vï¿½Å‚ï¿½
**/
long Rcb4BaseClass::motionAddr2motionNum(byte motionNum)
{
	//return (motionNum -1)* MotionSingleDataCount + MotionRomAddress;
	return (long)(motionNum -1)* (long)MotionSingleDataCount + MotionRomAddress;
}



















